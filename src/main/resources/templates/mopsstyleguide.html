<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{mopslayout :: html(name='Styleguide', headcontent=~{:: headcontent}, bodycontent=~{:: bodycontent})}">
<head>
  <meta charset="utf-8">
  <title>Styleguide</title>
  <th:block th:fragment="headcontent">
    <style>
      main > div:first-child {
        position: relative;
        margin-bottom: 1rem;
      }

      main > div:first-child img {
        border-radius: 1rem;
        border: 1px solid black;
      }

      main > div:first-child > h2 {
        position: absolute;
        bottom: 0;
        margin: 1rem;
        color: white;
        text-shadow: 0 0 3px black;
      }

      @media (min-width: 992px) {
        main > div:first-child > h2 {
          font-size: 2.4rem;
        }
      }

      @media (max-width: 576px) {
        main > div:first-child > h2 {
          font-size: 1.0rem;
        }
      }
    </style>
  </th:block>
</head>
<body>
<header>
  <nav class="navigation navigation-secondary" is="mops-navigation" th:fragment="navigation">
    <ul>
      <li class="active">
        <a th:href="@{./#welcome}" href="#welcome">Willkommen</a>
      </li>
    </ul>
  </nav>
</header>
<main th:fragment="bodycontent">
  <div id="welcome">
    <img th:src="@{img/elvis_young.jpg}" src="../static/img/elvis_young.jpg" class="img-fluid"
         alt="Elvis, der Anführer">
    <h2 class="font-weight-bold">
      Willkommen in der Welt<br>
      von Elvis, Mampfi, Pudding und co.!
    </h2>
  </div>
  <p>Diese Website dient als Styleguide und Dokumentation für die Entwicklung von Subsystemen der "Modularen Online
    Plattform für Studierende" (kurz: Mops) der Heinrich-Heine-Universität Düsseldorf und soll Entwicklern die
    bereitgestellten
    Komponenten und Templates näherbringen.</p>
  <p>Wir verwenden unter anderem Spring Boot für die schnelle Programmierung und Thymeleaf als Template Engine.</p>

  <p>Fangen wir am besten direkt an...</p>

  <h2 id="getstarted">Vorbereitung des Spring Boot Projekts</h2>
  <p>
    Sobald ihr euer Spring Boot Projekt in der IDE eurer Wahl geöffnet habt, stellt sicher, dass ihr die von uns
    bereitgestellten Dateien für Konfiguration, Templating und Styling eingebunden habt. Guckt dafür in eure
    <code>build.gradle</code> und fügt, wenn noch nicht vorhanden, das entsprechende Repository und die Dependencies
    hinzu.
    Achtet dabei auf eine passende Versionsangabe für das Styleguide Artefakt. Folgend sind die hinzuzufügenden
    Einträge
    aufgelistet, wobei <code>&lt;version&gt;</code> für die Version des Styleguide steht.
  </p>

  <pre>
        <code>
repositories {
    maven {
        url="https://s3.cs.hhu.de/public/mops/"
        metadataSources {
            artifact()
        }
    }
}

dependencies {
    implementation 'nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:2.4.1'
    implementation "mops:styleguide:&lt;version&gt;"
}
        </code>
    </pre>

  <div class="alert alert-warning" role="alert">
    <span class="font-weight-bold">Nicht einfach kopieren und ersetzen!</span> Ansonsten löscht ihr vielleicht aus
    Versehen die anderen Repositories und Dependencies.
  </div>

  <h2 id="content">Erstellung eines Content Templates</h2>
  <p>
    Jede HTML-Seite, die ihr erstellt, sieht vom Grundaufbau her folgendermaßen aus:
  </p>
  <pre>
        <code>
&lt;!DOCTYPE html&gt;
&lt;html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{mopslayout}"&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Titel&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;header&gt;
        &lt;nav layout:fragment="navigation" class="navigation navigation-secondary" is="mops-navigation"&gt;
            &lt;!-- Ungeordnete Liste mit einfachen Links hier einfügen! --&gt;
        &lt;/nav&gt;
    &lt;/header&gt;
    &lt;main layout:fragment="content" is="mops-content"&gt;
        &lt;!-- Restlichen Inhalt hier einfügen! --&gt;
    &lt;/main&gt;
&lt;/body&gt;
&lt;/html&gt;
        </code>
    </pre>
  <p>
    Im Tag <code>html</code> werden zwei XML-Namensräume angegeben, die zusätzliche Attribute in Tags zulassen.
    Der Wert des Attributs <code>layout:decorate</code> ist eine Fragment Expression und gibt an, dass ein Layout
    Template
    mit Namen <code>layout.html</code> von Thymeleafs Template Resolvern gefunden und anschließend mit Inhalten
    dieses Content Templates dekoriert werden soll. Dabei werden automatisch alle Tags im Head vom Content Template
    einschließlich des Titels übernommen und so im Layout Template eingefügt, dass die Angaben im Layout Template
    eine
    höhere Priorität haben, was man aber auch noch beim Festlegen des Dialekts konfigurieren kann.
  </p>
  <p>
    Welche Inhalte werden sonst noch vom Content Template übernommen? Wie man an dem Grundaufbau erkennt, sind noch
    zwei weitere Tags im <code>body</code> mit einem spezielen Attribut <code>layout:fragment</code>
    versehen.
    Findet Thymeleaf im Layout Template das entsprechende Gegenstück, dann wird der Tag bzw. das Fragment im Layout
    Template durch den Tag bzw. das Fragment im Content Template ersetzt.
  </p>
  <p>
    Mehr dazu findet ihr
    <a href="https://ultraq.github.io/thymeleaf-layout-dialect/">hier</a>.
  </p>

  <h2 id="fragments">Zu ersetzende Fragmente</h2>
  <p>
    Dabei sind die im Grundaufbau aufgeführten Fragmente die einzigen, die auch im Layout Template ein Gegenstück
    haben und dieses dann, wie eben besprochen, ersetzen. Im mit <code>layout:fragment="content"</code> versehenen
    Tag <code>main</code> kann alles Mögliche stehen.
  </p>
  <p>
    Da aber die Navigation eine bestimmte Struktur haben soll, müsst ihr euch bei dieser zwingend an den folgenden
    Aufbau halten.
  </p>
  <pre>
        <code>
&lt;nav layout:fragment="navigation" class="navigation navigation-secondary" is="mops-navigation"&gt;
    &lt;ul&gt;
        &lt;li&gt;
            &lt;a th:href="path/for/thymeleaf" href="path/for/natural/templating"&gt;
                Link 1
            &lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="active"&gt;
            &lt;a th:href="path/for/thymeleaf" href="path/for/natural/templating"&gt;
                Link 2
            &lt;/a&gt;
        &lt;/li&gt;
        &lt;!-- usw. --&gt;
    &lt;/ul&gt;
&lt;/nav&gt;
        </code>
    </pre>
  <div class="alert alert-warning" role="alert">
    Es muss sich zwingend an den vorgegebenen Aufbau aller Fragmente (und Komponenten) gehalten werden! <span
    class="font-weight-bold">Die Vorgabe
        schließt auch die An- und Abwesenheit von Attributen mit ein.</span>
  </div>
  <p>
    Wie man daran erkennt, ist keine verschachtelte Liste möglich. Folglich existieren zu einem in der Navigation
    aufgelistetem Link keine untergeordneten Links. Die Klassenangabe <code>class="active"</code> zeichnet die
    gerade besuchte Seite aus und muss demnach genau in einem <code>li</code> vorkommen.
  </p>
</main>
</body>
</html>